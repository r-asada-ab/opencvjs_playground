({294:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,d){function l(e){try{r(i.next(e))}catch(e){d(e)}}function c(e){try{r(i.throw(e))}catch(e){d(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}r((i=i.apply(e,t||[])).next())}))};function t(e,t,n){e.addEventListener("click",(()=>{let e=1;null!=t&&(e=t+1);const i={_id:n,views:e};let o=JSON.stringify(i);fetch("./api/views",{method:"POST",headers:{"Content-Type":"application/json"},body:o}),location.href="index.html?id="+encodeURIComponent(n)})),e.addEventListener("mouseover",(()=>{e.style.cursor="pointer"}))}function n(e,t,n,i){e.addEventListener("click",(()=>{let e=1;null!=n&&(e=n+1);const o={_id:i,vote:e};let d=JSON.stringify(o);fetch("./api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:d}).then((()=>{t.innerText=e.toString()}))})),e.addEventListener("mouseover",(()=>{e.style.cursor="pointer"}))}!function(){let i=document.getElementById("title_text");i.addEventListener("click",(()=>{location.href="index.html"})),i.addEventListener("mouseover",(()=>{i.style.cursor="pointer"})),document.getElementById("search_button").addEventListener("click",(()=>{const i={query:document.getElementById("textbox").value};let o=JSON.stringify(i);fetch("./api/find",{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((i=>e(this,void 0,void 0,(function*(){let e=yield i.json();!function(){let e=document.getElementById("table_body");for(;e.hasChildNodes();)e.removeChild(e.lastChild)}(),function(e){let i=document.getElementById("table_body");for(let o=0;o<e.length;o++){let d=e[o],l=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td"),a=document.createElement("td"),s=document.createElement("td"),u=document.createElement("td"),m=document.createElement("td");r.innerText=d.title,a.innerText=d.discription;let p=d.snipet.slice(0,20)+"...";s.innerText=p;let h=new Date(d.date);u.innerText=h.toDateString();let y=d.views;m.innerText=null==y?"0":y;let f=new Image;f.src="images/ic_vote.png",f.width=16,f.height=16;let v=document.createElement("div");v.style.fontSize="small",v.style.color="lightgray";let E=d.vote;v.innerText=null==E?"0":E,c.append(f),c.append(v),l.append(c),l.append(r),l.append(a),l.append(s),l.append(u),l.append(m),n(f,v,E,d._id),t(r,y,d._id),t(a,y,d._id),t(s,y,d._id),t(u,y,d._id),t(m,y,d._id),i.append(l)}}(e)}))))}))}()}})[294]();